"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[61],{9948:function(e,s,a){a.d(s,{X:function(){return se}});var n=a(2791),r=a(9439),l=a(9434),c=a(7665),t=a(4289),i=a(8617),o=a(4164),d="Modal_backdrop__xTnIT",m="Modal_modal__DJDMv",u="Modal_btnClose__oHdcJ",_="Modal_contentWrepper__C9Qpo",h="Modal_carImg__KsMYa",x="Modal_infoWrapper__4q7wp",f="Modal_mainInfo__n9g+3",j="Modal_carInfo__mtCXq",p="Modal_carText__+ZgbN",N="Modal_modelTextBlue__zMyX2",v="Modal_secondaryInfo__onTre",C="Modal_secondaryCarText__T3-hx",g="Modal_description__zKB3H",y="Modal_accessories__jJan7",M="Modal_accessoriesTitle__hBfGl",I="Modal_accessoryList__1e033",k="Modal_accessoryListItem__WXA84",w="Modal_rentalBlock__03wPN",b="Modal_rentalTitle__gf87s",T="Modal_rentalInfo__3n678",B="Modal_rentalItem__BwVAi",S="Modal_rentalItemValue__bKJ4n",E="Modal_rentalButton__aqShC",L=a(6856),P=a(184),z=document.querySelector("#modal-root"),Z=function(e){var s=e.handleBackdropClick,a=e.handleModalClose,n=e.model,r=e.make,l=e.id,c=e.img,t=e.year,i=e.address,Z=e.rentalPrice,A=e.type,q=e.functionalities,R=e.fuelConsumption,W=e.engineSize,X=e.description,F=e.accessories,D=e.rentalConditions,H=e.mileage,J=i.split(", "),K=J[1],U=J[2],Y=D.split("\n",3),O=Y[0].match(/\d+/),Q=parseInt(O[0],10);return(0,o.createPortal)((0,P.jsx)("div",{className:d,onClick:s,children:(0,P.jsx)("div",{className:m,children:(0,P.jsxs)("div",{className:_,children:[(0,P.jsx)("button",{type:"button",className:u,onClick:a,children:L.FU5}),(0,P.jsx)("img",{className:h,src:c,alt:r}),(0,P.jsxs)("div",{className:x,children:[(0,P.jsx)("div",{className:f,children:(0,P.jsxs)("ul",{className:j,children:[(0,P.jsx)("li",{className:p,children:r}),(0,P.jsxs)("li",{className:N,children:[n,(0,P.jsx)("span",{style:{color:"black"},children:","})]}),(0,P.jsx)("li",{className:p,children:t})]})}),(0,P.jsxs)("div",{className:v,children:[(0,P.jsx)("div",{className:C,children:K}),(0,P.jsx)("div",{className:C,children:U}),(0,P.jsxs)("div",{className:C,children:["id: ",l]}),(0,P.jsxs)("div",{className:C,children:["Year: ",t]}),(0,P.jsxs)("div",{className:C,children:["Type: ",A]}),(0,P.jsxs)("div",{className:C,children:["Fuel Consumption: ",R]}),(0,P.jsxs)("div",{className:C,children:["Engine Size: ",W]})]}),(0,P.jsx)("p",{className:g,children:X}),(0,P.jsxs)("div",{className:y,children:[(0,P.jsx)("p",{className:M,children:"Accessories and functionalities:"}),(0,P.jsxs)("ul",{className:I,children:[F.map((function(e,s){return(0,P.jsx)("li",{className:k,children:e},s)})),q.map((function(e,s){return(0,P.jsx)("li",{className:k,children:e},s)}))]})]}),(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("p",{className:b,children:"Rental Conditions:"}),(0,P.jsxs)("ul",{className:T,children:[(0,P.jsxs)("li",{className:B,children:["Minimum age:"," ",(0,P.jsx)("span",{className:S,children:Q})]}),(0,P.jsx)("li",{className:B,children:Y[1]}),(0,P.jsx)("li",{className:B,children:Y[2]}),(0,P.jsxs)("li",{className:B,children:["Mileage:"," ",(0,P.jsx)("span",{className:S,children:H.toLocaleString("en-EN")})]}),(0,P.jsxs)("li",{className:B,children:["Price:"," ",(0,P.jsx)("span",{className:S,children:Z})]})]})]}),(0,P.jsx)("a",{className:E,href:"tel:+380730000000",children:"Rental car"})]})]})})}),z)},A="CardItem_item__lRElw",q="CardItem_cardImgWrap__EoWsM",R="CardItem_cardImg__qxZx0",W="CardItem_iconBtn__5-F89",X="CardItem_infoWrapper__HMG-Y",F="CardItem_mainInfo__PXeFT",D="CardItem_carInfo__h9xlt",H="CardItem_carText__3u9Rq",J="CardItem_carTextBlue__OuBcN",K="CardItem_carRentalPrice__nA4D4",U="CardItem_secondaryCarInfo__zz+UI",Y="CardItem_secondaryCarAbout__tqal0",O="CardItem_secondaryInfo__Bf9H-",Q="CardItem_learnMoreBtn__AYfPz",G=a(3402),V=function(e){var s=e.car,a=s.model,o=s.make,d=s.id,m=s.img,u=s.year,_=s.address,h=s.rentalPrice,x=s.rentalCompany,f=s.type,j=s.functionalities,p=s.fuelConsumption,N=s.engineSize,v=s.description,C=s.accessories,g=s.rentalConditions,y=s.mileage,M=(0,l.v9)((function(e){return e.favorite})).includes(d),I=(0,n.useState)(!1),k=(0,r.Z)(I,2),w=k[0],b=k[1],T=(0,l.I0)(),B=(0,l.v9)(t.Qb),S=function(){b(!1),document.body.style.overflow=""},E=function(e){e.currentTarget===e.target&&(S(),document.body.style.overflow="")},L=function(e){"Escape"===e.code&&(S(),document.body.style.overflow="")};(0,n.useEffect)((function(){return w&&(window.addEventListener("keydown",L),window.addEventListener("click",E)),function(){window.removeEventListener("keydown",L),window.removeEventListener("click",E)}}));var z=s.address.split(", "),V=z[1],$=z[2],ee=j[0].split(" ").slice(0,1).join(" "),se=a.split(/[\s-]+/),ae=o.split(/[\s-]+/);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:A,children:[(0,P.jsxs)("div",{className:q,children:[(0,P.jsx)("img",{className:R,src:m,alt:o}),(0,P.jsx)("button",{className:W,onClick:M?function(){T((0,c.WP)(d))}:function(){B?T((0,c.mQ)(d)):G.Am.error("Please register or login!")},type:"button",children:M?(0,P.jsx)(i.dOX,{color:"#3470ff",size:22}):(0,P.jsx)(i.wkn,{size:22})})]}),(0,P.jsxs)("div",{className:X,children:[(0,P.jsxs)("div",{className:F,children:[(0,P.jsxs)("ul",{className:D,children:[(0,P.jsx)("li",{className:H,children:o}),(0,P.jsxs)("li",{className:J,children:[se[0],(0,P.jsx)("span",{style:{color:"black"},children:","})]}),(0,P.jsx)("li",{className:H,children:u})]}),(0,P.jsx)("p",{className:K,children:h})]}),(0,P.jsxs)("div",{className:O,children:[(0,P.jsxs)("ul",{className:U,children:[(0,P.jsx)("li",{className:Y,children:V}),(0,P.jsx)("li",{className:Y,children:$}),(0,P.jsx)("li",{className:Y,children:x})]}),(0,P.jsxs)("ul",{className:U,children:[(0,P.jsx)("li",{className:Y,children:f}),(0,P.jsx)("li",{className:Y,children:ae[0]}),(0,P.jsx)("li",{className:Y,children:d}),(0,P.jsx)("li",{className:Y,children:ee})]})]}),(0,P.jsx)("button",{className:Q,type:"button",onClick:function(){b(!0),document.body.style.overflow="hidden"},children:"Learn more"})]})]}),w&&(0,P.jsx)(Z,{handleModalClose:S,handleKeyDown:L,handleBackdropClick:E,model:a,make:o,year:u,rentalPrice:h,address:_,rentalCompany:x,functionalities:j,id:d,type:f,img:m,fuelConsumption:p,engineSize:N,description:v,accessories:C,rentalConditions:g,mileage:y},d)]})},$="CardsList_sectionContainer__47RM-",ee="CardsList_galleryList__I97SD",se=function(e){var s=e.cars;return console.log(s),(0,P.jsx)("section",{className:$,children:(0,P.jsx)("ul",{className:ee,children:s.map((function(e){return(0,P.jsx)(V,{car:e},e.id)}))})})}},61:function(e,s,a){a.r(s),a.d(s,{default:function(){return N}});var n=a(5861),r=a(9439),l=a(7757),c=a.n(l),t=a(2791),i=a(9948),o=a(9434),d=function(e){return e.cars.items},m=function(e){return e.cars.error},u=a(8922),_=a(556),h=a(1243);h.Z.defaults.baseURL="https://648ae22b17f1536d65e9e5ee.mockapi.io";var x=function(){var e=(0,n.Z)(c().mark((function e(){var s,a,n,r,l,t=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:1,a=t.length>1&&void 0!==t[1]?t[1]:8,t.length>2&&void 0!==t[2]?t[2]:null,n={params:{limit:a,page:s}},e.next=6,h.Z.get("/cars",n);case 6:return r=e.sent,l=r.data,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f="CatalogPage_container__w3ZO8",j="CatalogPage_loadMoreBtn__Z5kAU",p=a(184),N=function(){var e=(0,o.v9)(d),s=(0,o.v9)(m),a=(0,o.v9)(_.MS),l=(0,o.I0)(),h=(0,t.useState)(1),N=(0,r.Z)(h,2),v=N[0],C=N[1],g=(0,t.useState)(0),y=(0,r.Z)(g,2),M=y[0],I=y[1];(0,t.useEffect)((function(){var e=function(){var e=(0,n.Z)(c().mark((function e(){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:s=e.sent,l((0,_.Nv)(s)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching total cars:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[l]),(0,t.useEffect)((function(){M!==v&&(l((0,u.c)(v)),I(v))}),[l,v,M]);return(0,p.jsxs)("div",{className:f,children:[0!==e.length&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.X,{cars:e}),a.length<e.length&&(0,p.jsx)("button",{className:j,type:"button",onClick:function(){C((function(e){return e+1}))},children:"Load More"})]}),s&&(0,p.jsx)("p",{children:s})]})}},556:function(e,s,a){a.d(s,{MS:function(){return l},Nv:function(){return r}});var n=(0,a(6382).oM)({name:"totalCars",initialState:[],reducers:{setTotalCars:function(e,s){return s.payload}}}),r=n.actions.setTotalCars,l=function(e){return e.totalCars};n.reducer}}]);
//# sourceMappingURL=61.99f0c9e3.chunk.js.map